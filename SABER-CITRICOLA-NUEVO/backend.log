
> saber-citricola-backend@1.0.0 start
> node app.js


üçä ===================================
üöÄ Servidor Saber Citr√≠cola iniciado
üìç URL: http://localhost:5000
üåê CORS permitido desde: http://localhost:3000
‚è∞ Hora: 10/5/2025, 4:00:01 PM
üçä ===================================
    
üóÑÔ∏è Inicializando base de datos...
‚úÖ Backend iniciado correctamente
‚úÖ Conectado a SQLite exitosamente
üìÅ Base de datos ubicada en: C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\saber_citricola.db
üìã Tabla "usuarios" lista
üìã Tabla "comentarios" lista
üìã Tabla "documentos" lista
üìã Tabla "capacitaciones" lista
üìã Tabla "progreso_capacitaciones" lista
üìã Tabla "metricas" lista
üìã Tabla "categorias" lista
üë§ Datos de prueba ya existen
‚ùå Error al obtener notificaciones no le√≠das: TypeError: Cannot read properties of undefined (reading 'id')
    at file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/routes/notificaciones.js:162:35
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error al obtener notificaciones no le√≠das: TypeError: Cannot read properties of undefined (reading 'id')
    at file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/routes/notificaciones.js:162:35
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error en obtenerEstadisticas: TypeError: Cannot read properties of undefined (reading 'id')
    at obtenerEstadisticas (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/controllers/notificaciones.js:167:37)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error en obtenerEstadisticas: TypeError: Cannot read properties of undefined (reading 'id')
    at obtenerEstadisticas (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/controllers/notificaciones.js:167:37)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error al obtener notificaciones no le√≠das: TypeError: Cannot read properties of undefined (reading 'id')
    at file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/routes/notificaciones.js:162:35
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error al obtener notificaciones no le√≠das: TypeError: Cannot read properties of undefined (reading 'id')
    at file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/routes/notificaciones.js:162:35
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error en obtenerEstadisticas: TypeError: Cannot read properties of undefined (reading 'id')
    at obtenerEstadisticas (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/controllers/notificaciones.js:167:37)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error en obtenerEstadisticas: TypeError: Cannot read properties of undefined (reading 'id')
    at obtenerEstadisticas (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/controllers/notificaciones.js:167:37)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin
üéØ GET /api/usuarios - Iniciando consulta
‚úÖ Usuarios obtenidos: 4
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin
üéØ GET /api/usuarios - Iniciando consulta
‚úÖ Usuarios obtenidos: 4
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin

üéØ POST /api/usuarios - Iniciando creaci√≥n de usuario
üì• Body recibido: {
  username: 'a',
  email: 'a@gmail.com',
  password: 'a',
  nombre_completo: 'aaa',
  rol: 'operador'
}
üë§ Usuario autenticado: {
  id: 1,
  username: 'dev_user',
  email: 'dev@example.com',
  rol: 'admin',
  role: 'admin',
  nombre_completo: 'Usuario de Desarrollo'
}
‚úÖ Validaciones b√°sicas pasadas
üîç Verificando si el usuario existe...
üìä Usuario existe: false
üîß Creando usuario...
üîÑ Creando usuario con datos: {
  username: 'a',
  email: 'a@gmail.com',
  nombre_completo: 'aaa',
  rol: 'operador'
}
‚úÖ Usuario creado con ID: 5
‚úÖ Usuario creado exitosamente con ID: 5
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin
üéØ GET /api/usuarios - Iniciando consulta
‚úÖ Usuarios obtenidos: 5
‚ùå Error al obtener notificaciones no le√≠das: TypeError: Cannot read properties of undefined (reading 'id')
    at file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/routes/notificaciones.js:162:35
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error al obtener notificaciones no le√≠das: TypeError: Cannot read properties of undefined (reading 'id')
    at file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/routes/notificaciones.js:162:35
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error en obtenerEstadisticas: TypeError: Cannot read properties of undefined (reading 'id')
    at obtenerEstadisticas (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/controllers/notificaciones.js:167:37)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
‚ùå Error en obtenerEstadisticas: TypeError: Cannot read properties of undefined (reading 'id')
    at obtenerEstadisticas (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/controllers/notificaciones.js:167:37)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\index.js:280:10)
    at devBypassAuth (file:///C:/Users/mauricio.batista/Desktop/proyectos/SABER-CITRICOLA-NUEVO/backend/middleware/jwt.js:98:3)
    at Layer.handle [as handle_request] (C:\Users\mauricio.batista\Desktop\proyectos\SABER-CITRICOLA-NUEVO\backend\node_modules\express\lib\router\layer.js:95:5)
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin
üéØ GET /api/usuarios - Iniciando consulta
‚úÖ Usuarios obtenidos: 5
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin
üéØ GET /api/usuarios - Iniciando consulta
‚úÖ Usuarios obtenidos: 5
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin
üéØ GET /api/usuarios - Iniciando consulta
‚úÖ Usuarios obtenidos: 5
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin
üéØ GET /api/usuarios - Iniciando consulta
‚úÖ Usuarios obtenidos: 5
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin
üéØ GET /api/usuarios - Iniciando consulta
‚úÖ Usuarios obtenidos: 5
üîç Verificando rol de usuario: {
  rolUsuario: 'admin',
  usuario: {
    id: 1,
    username: 'dev_user',
    email: 'dev@example.com',
    rol: 'admin',
    role: 'admin',
    nombre_completo: 'Usuario de Desarrollo'
  }
}
‚úÖ Acceso permitido para rol: admin
üéØ GET /api/usuarios - Iniciando consulta
‚úÖ Usuarios obtenidos: 5
